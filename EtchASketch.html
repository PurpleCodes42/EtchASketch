<!DOCTYPE html>
<html>
<head>
  <title>EtchASketch</title>
</head>
<body>
    <!-- html here -->
    <h1>Etch A Sketch</h1>
    <p></p>
    <button id=clear>Clear Grid</button>
    <button id=pixels>Set pixels</button>
    <button id=random>Random Color</button>
    <p></p>
    <div id = container style = "width: 640px; height: 640px"></div>
  <script>
    /* JS here */
    const container = document.querySelector('#container');
    const contWidth = container.offsetWidth;
    const contHeight = container.offsetHeight;
    
    function createDiv(pixelRow){
        for (let j = 0; j < pixelRow; j++){
            for (let i = 0; i< pixelRow; i++){
                console.log("im creating");
                container.appendChild(createSquare(pixelRow));
            }
        }
    }

    function createSquare(pixelRow){
        let divWidth = contWidth/pixelRow + "px";
        let divHeight = contWidth/pixelRow + "px";

        const div = document.createElement('div');
        div.style.width = divWidth;
        div.style.height = divHeight;
        div.style.cssFloat = "left";
        div.classList.add("grids");
        return div;
    }

    function changeColor(){
        this.style.backgroundColor = "black";
    }

    function blankGrid(){
        const grids = document.querySelectorAll(".grids");
        grids.forEach(grids => grids.style.backgroundColor = "white");  
    }

    function clearGrid() {
        const grids = document.querySelectorAll(".grids");
        grids.forEach(grids => grids.remove());  
    }
    
    function setPixels(){
        clearGrid();
        let pixelsInARow = window.prompt("how many pixs shall the new grid " +
            "have on each side?");
        createDiv(pixelsInARow); 
        putEventListeners();
    }

    function putEventListeners(){
        const grids = document.querySelectorAll(".grids");
        grids.forEach(grids => grids.addEventListener("mouseover", changeColor));
    }

    createDiv(20);
    putEventListeners();  

    const button1 = document.querySelector("#clear");
    button1.addEventListener("click", blankGrid);

    const button2 = document.querySelector("#pixels");
    button2.addEventListener("click", setPixels);

    const button3 = document.querySelector("#random");
    button3.addEventListener("click", putEventListeners);

  </script>
</body>
</html>